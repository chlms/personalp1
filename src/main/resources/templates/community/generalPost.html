<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="" th:href="@{/css/community/community.css}" />
    <title>캠핑EZ | 게시글</title>
    <script src="https://kit.fontawesome.com/4fab4e86c9.js" crossorigin="anonymous"></script>
  </head>
  <body>
    <div class="wrapper">
      <div class="up-l"></div>

      <!-- 최상단 메뉴(UPPERMOST) -->
      <div class="up">
        <a href="" th:href="@{/}" class="up__link">HOME</a>
        <th:block th:if="${!session.isEmpty()}">
          <a href="" th:href="@{/mypage}" class="up__link">마이페이지</a>
          <a href="" th:href="@{/login/logout}" class="up__link">로그아웃</a>
        </th:block>
        <th:block th:if="${session.isEmpty()}">
          <a href="" th:href="@{/signup}" class="up__link">회원가입</a>
          <a href="" th:href="@{/login}" class="up__link">로그인</a>
        </th:block>
      </div>

      <div class="up-r"></div>

      <div class="hd-l"></div>

      <!-- 헤더 (HEADER) -->
      <header class="hd">
        <div class="hd__menu-item">
          <a href="" th:href="@{/search}" class="link">검색ez</a>
          <a href="" th:href="@{/notice}" class="link">공지사항</a>
          <a href="" th:href="@{/preparing}" class="link">ez가이드</a>
          <a href="" th:href="@{/preparing}" class="link">사이트맵</a>
        </div>
        <div class="hd__logo-item">
          <a href="" th:href="@{/}" class="link">
            <i class="hd__logo fa-solid fa-house"></i>
            <h2>캠핑EZ</h2>
          </a>
        </div>
        <div class="hd__empty-item"></div>
      </header>

      <div class="hd-r"></div>

      <div class="gnb-l"></div>

      <!-- gnb영역 -->
      <nav class="gnb">
        <div class="gnb__gwangjang-submenu">
          <div><a href="" th:href="@{/notice}" class="gnb__depth link">공지사항</a></div>
          <div><a href="" th:href="@{/bulletinBoard}" class="gnb__depth link">자유게시판</a></div>
          <div><a href="" th:href="@{/question}" class="gnb__depth link">질문게시판</a></div>
        </div>
        <div><a href="" th:href="@{/search}" class="link">검색ez</a></div>
        <div><a href="" th:href="@{/preparing}" class="link">광장ez</a></div>
        <div><a href="" th:href="@{/preparing}" class="link">ez가이드</a></div>
      </nav>

      <div class="gnb-r"></div>
      <div class="post-l"></div>
      <!--4개의 큰 구간으로 나눔 -->
      <main class="post" th:object="${postDetailForm}">
        <!--좌/우 두개의 구간으로 나눔-->
        <section class="post__upper">
          <h4 class="post__title" th:text="*{ptitle}"></h4>
        </section>
        <!--게시글 정보-->
        <section class="post__info">
          <input class="post__writer hidden" name="pnumber"  th:field="*{pnumber}">
          <p class="post__writer" th:text="*{nickname}">글쓴이 : 홍길동</p>
          <p class="post__date" th:text="*{udate}">작성일 : 23.03.21</p>
        </section>
        <!--게시글 섹션-->
        <section class="post__context">
          <p class="post__main-content" th:text="*{ptext}" ></p>
        </section>
        <div class="post__buttons">
          <button id="btnUpdate">수정</button>
          <button id="btnDelete">삭제</button>
          <button id="btnFindAll">목록</button>
        </div>
      </main>
      <div class="post-r"></div>
      <div class="ft-l"></div>
      <!-- 푸터영역(FOOTER)-->
      <footer class="ft">
        <div class="ft__logo-cell">
          <h2>캠핑EZ</h2>
        </div>
        <div class="ft__info-cell">
          <div class="ft__links">
            <a href="" class="link">개인정보취급방침</a>
            <a href="" class="link">홈페이지이용약관</a>
            <a href="" class="link">광고및제휴문의</a>
          </div>
          <div class="ft__others">
            <p>Copyrights(c) 2023 www.campingez.com. ALL RIGHTS RESERVED.</p>
            <p>TEL 010-1234-5678 (상담시간: 평일 10:00~18:00)</p>
            <p>E-MAIL : webmaster@testmail.com</p>
          </div>
        </div>
        <div class="ft__empty-cell"></div>
      </footer>

      <div class="ft-r"></div>
    </div>
    <script>
  const $btnDelete = document.getElementById('btnDelete');
  const $btnFindAll = document.getElementById('btnFindAll');
  const $btnUpdate = document.getElementById('btnUpdate');

  //상품 아이디
  const $pnumber = document.getElementById('pnumber');

  const btnDelete_h = e=>{
    if(confirm('삭제 하시겠습니까?')){
      globalThis.location.href = `/community/${$pnumber.value}/del`;
    }
  }
  const btnAll_h = e => {
    globalThis.location.href = `/community/butlletinBoard`;
  }
  const btnUpdate_h = e => {
    globalThis.location.href = `/community/${$pnumber.value}/edit`;
  }
  $btnUpdate.addEventListener('click',btnUpdate_h, false);
  $btnFindAll.addEventListener('click',btnAll_h, false);
  $btnDelete.addEventListener('click',btnDelete_h, false);
    </script>
  </body>
</html>
